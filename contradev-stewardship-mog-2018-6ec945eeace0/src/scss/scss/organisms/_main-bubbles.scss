.bubble-slider {
    width: 275px;
    margin: 0 auto;

    &:after {
        content: 'flickity';
        color: blue;
        // display: none; /* hide :after */
    }
}
@include media-breakpoint-up('md',(md: 900px)) {
    .bubble-slider {
        width: 100%;
        display: flex;
        justify-content: space-between;
    }
    /* disable Flickity for large devices */
    .bubble-slider:after {
      content: '';
    }
}


.flickity-viewport {
	overflow: visible;
}

.flickity-slider {
	perspective: 1000px;
}

.flickity-page-dots {
    bottom: -50px;
    .dot {
        background: $white;
    }
}

.bubble-slider-item {
    display: inline-flex;
    flex-direction: column;
	align-items: center;
	justify-content: center;
	width: 275px;
    height: 275px;
    position: relative;
    padding: 25px;
    background-color: white;
    //background-image: linear-gradient(135deg, $gray 0%,  $white 25%,  $white 75%, $gray 100%);
    border-radius: 50%;
    color: $grey-charcoal;
	transition: all .3s ease-out;
	font-size: 30px;
    font-weight: bold;
    text-align: center;
    text-decoration: none;
    box-shadow: -10px -10px 30px 0px rgba($black, .1);
    transform: scale(1) translateY(0) translateZ(10px);

    .flickity-enabled & {
        opacity: 0;
    }

    .h3 {
        margin-bottom: 0;
    }

    span { 
        font-size: 15px;
        font-weight: 400;
        font-family: $font;
    }

    &:hover,
    &.is-selected {
        transform: scale(1.05) translateY(-10px) translateZ(15px);
        box-shadow: 0 20px 30px 0px rgba($black, .2);

        // .bubble-slider-amount {
        //     transform: scale(1.05) translateY(-5px) translateZ(15px);
        // }
    }

    // &:after{
    //     content: "";
    //     display: block;
    //     width: 105%;
    //     height: 105%;
    //     border-radius: 50%;
    //     z-index: -1;
    //     position: absolute;
    //     top: calc(0 - 10%);
    //     left: calc(0 - 10%);
    //     //border: 2px solid rgba(white, .5);
    //     //background-color: white;
    //     background-image: linear-gradient(135deg, rgba($white, 0) 30%,  rgba($white, .9) 100%);
    //     transition: all .2s ease-in-out;
    // }

    &:hover:after,
    &.is-selected:after {
        transform: rotate(180deg);
        transition: all .3s ease-out;
    }

    &.is-selected:after {
        transition-delay: .1s;
    }

    // &:before {
    //     width: 120%;
    //     height: 120%;
    //     z-index: -1;
    //     position: absolute;
    //     border: 1px solid rgba(white, .2);
    // }

}

.bubble-slider-item.is-selected {
	opacity: 1;
	transform: none;
	transform-origin: center center;
}

.bubble-slider-item.next {

    .flickity-enabled & {
	    transform: rotate(20deg) scale(.8);
        transform-origin: center left 20%;
    }
}
.bubble-slider-item.prev {
    .flickity-enabled & {
        transform: rotate(-20deg) scale(.8);
        transform-origin: center right 20%;
    }
}

.bubble-slider-amount {
    font-size: 55px;
    color: $blue;
    margin-top: 9px;
    transition: all .3s ease-out;

    span {
        font-size: .75em;
    }

    .primary-gradient &,
    .s-bg & {
        color: $primary;
    }

    .tertiary-gradient & {
        color: $purple;
    }
}

main .main-bubble.main-bubble {
    overflow: visible;
}

.main-bubble-cta {
    display: flex;
    flex-direction: column;
    justify-content: center;
    margin: 75px auto 0 auto;

    @include media-breakpoint-up('md',(md: 900px)) {
        flex-direction: row;
    }

    .btn {
        margin: 0 0 $gutter 0;
        width: 100%;

        &:last-child{
            margin: 0 0 0 0;
        }

        @include media-breakpoint-up('md') {
            margin: 0 $gutter 0 0;
        }


    }
    // > * {
    //     display: flex;
    //     align-items: center;
    //     justify-content: center;
    //     width: 125px;
    //     height: 125px;
    //     border-radius: 50%;
    //     margin-right: 30px;
    //     position: relative;
    //     color: $white;
    //     text-decoration: none;
    //     //background-color: rgba($white, .2);
    //     background-color: $grey-charcoal-darker;
    //     transition: all .3s ease-out;

    //     &:last-child {
    //         margin: 0;
    //     }

    //     &:hover {
    //         transform: scale(1.1);
    //         color: $blue;
    //         background-color: $white;
    //         box-shadow: 0px 0px 30px 0px rgba($black, .2);
    //     }

        // &:after{
        //     content: "";
        //     display: block;
        //     width: 150px;
        //     height: 150px;
        //     border-radius: 50%;
        //     z-index: -1;
        //     position: absolute;
        //     top: calc(50% - 75px);
        //     left: calc(50% - 75px);
        //     //border: 2px solid rgba(white, .5);
        //     //background-color: white;
        //     background-image: linear-gradient(135deg, rgba($white, 0) 40%,  rgba($white, .9) 100%);
        //     transition: all .2s ease-in-out;
        // }

    // }
}

